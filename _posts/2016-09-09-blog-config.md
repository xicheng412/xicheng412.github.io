---
layout: post
title:  "我的基于 Github pages 的 Blog 搭建记录"
date:   2016-09-09 00:00:00
categories: Github
tags: Github blog markdown
---

* content
{:toc}

大概记录一下我搭建Blog的过程






## 非常感谢 Gaohaoyang

我的 Blog 采用了 Gaohaoyang 的模板，对此非常感谢。[他的 Github 地址](https://github.com/Gaohaoyang)

## Github 的弯路

首先我经历和一个非常弯的弯路，我先看了某一些教程，然后开始在 Github 上先开了一个 repository , 然后它的 Master 分支不用，再开一个分支为 gh-pages 。这个时候访问的路径就是

> xxxx.github.io/项目名称

这样会导致每次访问的域名都是在主域名的目录下面，我当前的blog的一些配置是直接写的主域名，所以一开始发现有一些目录下面的资源不能够正常加载。

## Github 的正确配置方法

新建一个项目，项目名称直接叫做 `你的名字.github.io` 这样建立的项目就是正常的，可以访问域名

>`你的名字.github.io`

这样就可以直接访问 blog 的内容，而且这里就不再需要关注项目本身的名字了，而且不需要输入目录。

## Nginx 配置的弯路1 : rewrite

一开始不太明白 nginx 的反向代理配置，所以就直接写了一个 rewrite 的设置，这样设置就会在你访问了主要域名之后，直接跳转到另外一个页面，这样子就和服务器的设置无关了，当第一次访问了服务器的域名之后，之后就没有服务器什么事情了，我觉得这个用在 cdn 之类的比较好，可以大大减轻服务器负载。但是我需要的是将所有服务放在我的域名里面，让服务器转发所有的访问，所以这个方法不行。

## Nginx 配置的弯路2 : proxy_pass

**使用 proxy_pass 是有条件的！** 这是特别需要注意的一个点，在使用带有目录的地址的时候，是不可以使用 proxy_pass 的。

例如 xxx.github.io/mmm 这种域名就是不可以用 proxy_pass 来反向代理的，这种域名解析的时候，依然是代理的主域名，会忽略掉目录的内容，代理的地址不会加上目录；不带有目录是可以的，甚至3级域名 aaa.bbb.github.io 这种域名都是可以正常反向代理的。

## Nginx 的正确配置方法

将 github 的项目配置正确之后，就可以用 proxy_pass 来设置反向代理了。

## 这个模板的一些使用方法

自己发现了一个技巧就是，如何控制摘要显示在主页上。方法就是：在文章最前面的一些地方都会显示为摘要，然后再连续空行，3行以上就可以断开，前面就是显示的摘要，空行后面的就只有点进去查看才能看到。